
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>What are some common CV evaluation metrics? &#8212; AI Practitioner Handbook</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" href="../../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="What are some metrics for Named Entity Recognition?" href="ner-metrics.html" />
    <link rel="prev" title="How do I select classification metrics?" href="classification-metrics-guidelines.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-HBHP8472S2"></script>
<script>
                    window.dataLayer = window.dataLayer || [];
                    function gtag(){ dataLayer.push(arguments); }
                    gtag('js', new Date());
                    gtag('config', 'G-HBHP8472S2');
                </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/AISG(R) Horizontal Logo CMYK Full Colour.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">AI Practitioner Handbook</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Welcome to AI Singapore’s AI Practitioner Handbook
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../1-pre-project-phase/overview.html">
   1. Pre-project Phase
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../1-pre-project-phase/business_challenge_2_ai_problem.html">
     How can business challenges be translated into AI problems?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../1-pre-project-phase/key_areas_in_data.html">
     What are some data considerations when framing an AI project?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../1-pre-project-phase/technical_debt.html">
     What are the considerations for reducing technical debt?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../1-pre-project-phase/ai_readiness_assessment.html">
     How can an engineer assess a client’s AI readiness?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../2-proj-mgmt-tech-lead/overview.html">
   2. Project Management &amp; Technical Leadership
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../2-proj-mgmt-tech-lead/effective-ai-team.html">
     How can I build an effective AI development team?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../2-proj-mgmt-tech-lead/cohesive-ai-team.html">
     How can I cultivate a cohesive AI development team?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../2-proj-mgmt-tech-lead/principles.html">
     What kind of engineering principles can I set for my development team?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../2-proj-mgmt-tech-lead/translate-technical-jargon.html">
     How might we simplify and translate technical jargon?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../3-collab-dev-platforms/overview.html">
   3. Collaborative Development Platforms
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../3-collab-dev-platforms/collaborative_ml.html">
     What are the key platforms required for collaborative ML development?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../3-collab-dev-platforms/repo-structure-setup.html">
     What are some considerations in setting up a project repository?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../4-lit-review/overview.html">
   4. Literature Review
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../4-lit-review/factors-to-consider-during-literature-review.html">
     What are some of the factors to consider during literature review?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../5-data-mgmt-exp-proc/overview.html">
   5. Data Management, Exploration &amp; Processing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/data-mgmt.html">
     Which data storage options are suitable for the project?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/eda-generic.html">
     Is there a systematic structure for performing exploratory data analysis?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/eda-cv-tasks.html">
     What are some ways to do EDA for CV tasks?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/data-splits.html">
     What are the various data split strategies?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/data-splits-repeatable.html">
     How do we make data splits repeatable?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/data-splits-bias-fairness-leakage.html">
     What are some scenarios of bias, unfairness, data leakage in data splits?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/e2e-workflow.html">
     How do I build a basic end-to-end workflow?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/e2e-workflow-adv.html">
     How do I enhance my end-to-end workflow?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../5-data-mgmt-exp-proc/data-poisoning-data-extraction.html">
     How can I reduce the risks of data poisoning and data extraction?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="overview.html">
   6. Modelling
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2">
    <a class="reference internal" href="optimising-and-satisficing.html">
     What are some internal and external considerations when selecting evaluation metrics?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="model-reproducibility.html">
     How can I maximise model reproducibility?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ml-risks-and-robustness.html">
     How do I assess model robustness?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="classification-metrics-guidelines.html">
     How do I select classification metrics?
    </a>
   </li>
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     What are some common CV evaluation metrics?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="ner-metrics.html">
     What are some metrics for Named Entity Recognition?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="evaluating-timeseries.html">
     How can we evaluate time-series classification models?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="post-hoc-explanation.html">
     How can we provide post-hoc explanations for black-box AI models?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../7-solution-delivery/overview.html">
   7. Solution Delivery
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../7-solution-delivery/deployment-requirements-gathering.html">
     How can I better understand the client’s deployment requirements?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../7-solution-delivery/min-viable-code.html">
     How can we build a minimum viable configuration for CI/CD automation?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../8-documentation-handover/overview.html">
   8. Documentation &amp; Handover
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../8-documentation-handover/documenting-architecture-processes.html">
     What are some good practices in documenting system architecture and processes?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../_contributing.html">
   How To Contribute
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../markdown-template.html">
     How should I write a section using Markdown?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../notebook-template.html">
     How should I write a section using Jupyter notebooks?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../../REVIEWING.html">
     How do I review content?
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../cite.html">
   Cite This Book
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../feedback.html">
   How Was Your Experience?
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/aimakerspace/ai-practitioner-handbook"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/aimakerspace/ai-practitioner-handbook/issues/new?title=Issue%20on%20page%20%2Fbook/6-modelling/cv-metrics.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../../_sources/book/6-modelling/cv-metrics.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mean-average-precision-map">
   Mean Average Precision (mAP)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#frames-per-second-fps">
   Frames Per Second (FPS)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trade-off-between-map-and-fps">
   Trade-off Between mAP and FPS
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adjusting-thresholds-for-inference-confidence-and-non-max-suppression-nms">
   Adjusting Thresholds for Inference - Confidence and Non-max Suppression (NMS)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prioritising-precision-or-recall">
   Prioritising Precision or Recall
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>What are some common CV evaluation metrics?</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mean-average-precision-map">
   Mean Average Precision (mAP)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#frames-per-second-fps">
   Frames Per Second (FPS)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#trade-off-between-map-and-fps">
   Trade-off Between mAP and FPS
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adjusting-thresholds-for-inference-confidence-and-non-max-suppression-nms">
   Adjusting Thresholds for Inference - Confidence and Non-max Suppression (NMS)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prioritising-precision-or-recall">
   Prioritising Precision or Recall
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#conclusion">
   Conclusion
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="what-are-some-common-cv-evaluation-metrics">
<h1>What are some common CV evaluation metrics?<a class="headerlink" href="#what-are-some-common-cv-evaluation-metrics" title="Permalink to this headline">#</a></h1>
<p>Contributor(s): Calvin Neo, AI Engineer</p>
<hr class="docutils" />
<p>This guide assumes a fair understanding of the computer vision-related tasks specifically image classification, object detection, and instance segmentation and their accompanying terms such as bounding boxes (bboxes) and masks. Additionally, it assumes an understanding of classification metrics such as F1 score, precision and recall.</p>
<p>The purpose of this article is to guide AI engineers on key considerations when evaluating metrics for object detection and instance segmentation tasks. For the most part, conventional classification metrics can be used to evaluate image classification tasks. Hence, an understanding of image classification would be useful here. In this case, refer to the article on <a class="reference internal" href="classification-metrics-guidelines.html"><span class="doc std std-doc">classification metrics</span></a>.</p>
<section id="mean-average-precision-map">
<h2>Mean Average Precision (mAP)<a class="headerlink" href="#mean-average-precision-map" title="Permalink to this headline">#</a></h2>
<p>There are many articles on how to calculate mAP available. It is thus instructive to instead discuss considerations when reading mAP.</p>
<p>In discussing mAP evaluation, consider the output below:</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Average Precision</p></th>
<th class="head"><p>IOU</p></th>
<th class="head"><p>Area</p></th>
<th class="head"><p>Max Detections</p></th>
<th class="head"><p>mAP</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Average Precision</p></td>
<td><p>0.5</p></td>
<td><p>all</p></td>
<td><p>1000</p></td>
<td><p>0.743</p></td>
</tr>
<tr class="row-odd"><td><p>Average Precision</p></td>
<td><p>0.75</p></td>
<td><p>all</p></td>
<td><p>1000</p></td>
<td><p>0.213</p></td>
</tr>
<tr class="row-even"><td><p>Average Precision</p></td>
<td><p>0.50:0.95</p></td>
<td><p>all</p></td>
<td><p>100</p></td>
<td><p>0.326</p></td>
</tr>
<tr class="row-odd"><td><p>Average Precision</p></td>
<td><p>0.50:0.95</p></td>
<td><p>small</p></td>
<td><p>1000</p></td>
<td><p>0.127</p></td>
</tr>
<tr class="row-even"><td><p>Average Precision</p></td>
<td><p>0.50:0.95</p></td>
<td><p>medium</p></td>
<td><p>1000</p></td>
<td><p>0.349</p></td>
</tr>
<tr class="row-odd"><td><p>Average Precision</p></td>
<td><p>0.50:0.95</p></td>
<td><p>large</p></td>
<td><p>1000</p></td>
<td><p>0.406</p></td>
</tr>
</tbody>
</table>
<p>Where mAP for IOU = 0.50:0.95 measures the AP values at IOUs 0.50 to 0.95, with a step of 0.05, and then averaging the values.</p>
<p>Firstly, it is useful to evaluate the Intersection over Union (IOU) threshold value to understand how “tight” a bbox/mask. A higher IOU threshold value indicates that the model’s inference closely overlaps with the ground truth, and is hence a more stringent evaluation criteria. Generally, the mAP suffers as the IOU threshold value increases. Thus, evaluating how much these values fall would be valuable clues on how well the model may produce tight bboxes/masks.</p>
<p>Using the outputs above, the second row shows that at IOU threshold of 0.50, the mAP is given by 0.743. Similarly, the third row showing IOU=0.75 threshold shows 0.213, a 0.53 fall in value. This indicates that the bboxes/masks produced by the model were not tight enough, and more training may be required.</p>
<p>Secondly, the objects being detected can be broadly separated to small/medium/large objects based on the bbox/mask size. Here, it is assumed the small/medium/large are area of the bbox/mask, and that area threshold for these sizes are clearly defined. For more information on how to determine small/medium/large objects, see article on <a class="reference internal" href="../5-data-mgmt-exp-proc/eda-cv-tasks.html"><span class="doc std std-doc">Exploratory Data Analysis for Compter Vision Tasks</span></a>.</p>
<p>A model generally performs the worst on small objects and gets better as the size increases. Thus, evaluating this is also instructive. Considering the above outputs, the mAP is 0.127/0.349/0.406 on small/medium/large objects. Thus, it would be good to have the model be trained on more small objects in order to potentially improve its performance.</p>
</section>
<section id="frames-per-second-fps">
<h2>Frames Per Second (FPS)<a class="headerlink" href="#frames-per-second-fps" title="Permalink to this headline">#</a></h2>
<p>FPS are generally measured by running multiple images through the pipeline and obtaining the amount of time taken to process each image, before converting it to frames per second. The way to do it is:</p>
<p><span class="math notranslate nohighlight">\(FPS = \frac{1}{\text{Average Time Taken Per Image}}\)</span></p>
<p>Here, the AI Engineer would need to consider the following:</p>
<p>FPS should be calculated based off either model’s or the software architecture’s inference speed. For model’s FPS, it is simply the inference speed solely on the model, without taking into account other processes like data ingestion/pre-processing and inference post-processing. The software architecture’s inference speed considers all the different software components that is related to the inference such as the above mentioned processing steps.</p>
<p>In most cases, though, the FPS of concern would be solely on the model since the main concern is to deliver a model. This is especially so when the concern of FPS is complicated by other factors outside of the model and beyond the AI Engineer’s cotrol, namely internet connections and hardware. Whichever way, the onus is on the AI Engineer to communicate how the FPS was measured to manage expectations.</p>
<p>It is also important to consider what affects FPS. The first factor would be model size. A model that is deep, and hence tend to be larger in size, requires a longer processing time. Another factor is image size. Larger image size will take longer for inference. For example, a 416x416 image will be faster than 1080x960 image. While again this is obvious, it is also often overlooked by AI Engineers when reading papers that purport higher inference speeds, but downplays the role that smaller images have on inference speed.</p>
</section>
<section id="trade-off-between-map-and-fps">
<h2>Trade-off Between mAP and FPS<a class="headerlink" href="#trade-off-between-map-and-fps" title="Permalink to this headline">#</a></h2>
<p>When a model has been identified based on mAP and FPS, further refinements can be made that may involve trading FPS for mAP or vice versa. For example, for certain models, the images that is passed in can have its size further reduced. The advantage here would be that inference speed is higher, and hence the FPS will be higher as well. However, since the image is reduced, the model may not have enough features to extract and map, further reducing its ability to accurately infer from the image. This drives down mAP. Increasing the image size will have the opposite effect.</p>
<p>Hence, it is important to establish “good enough”. That is, the engineer would need to work with the sponsor to come up with the metric threshold that would satisfy their use case. For example, if a model currently has mAP = 0.50, and FPS = 60, and the engineer knows that inference speed, for various reasons, would only need to be around 30, then they would be able to increase image size further to potentially increase mAP while accepting the FPS reduction.</p>
<p>It is also good to bear in mind diminishing returns. In the case above, if the FPS went down to 30 and the mAP went up to 0.52, would the trade-off be worth it? No in most cases. Thus, running through various parameters to find a good trade-off is important in such cases.</p>
</section>
<section id="adjusting-thresholds-for-inference-confidence-and-non-max-suppression-nms">
<h2>Adjusting Thresholds for Inference - Confidence and Non-max Suppression (NMS)<a class="headerlink" href="#adjusting-thresholds-for-inference-confidence-and-non-max-suppression-nms" title="Permalink to this headline">#</a></h2>
<p>When a model makes an inference, it will give a confidence level of the object’s class. If the confidence does not meet or exceed the threshold, then it will not be included.</p>
<p>Similarly, when a model makes duplicative inference on the same object, meaning it has two or more bounding boxes on the same object, there has to be a mechanism to suppress these duplicative boxes.</p>
<p>Thus, the engineer may use the Confidence and/or NMS threshold to ensure to adjust the precision and recall of the model.</p>
<p>To show this, consider the output below. Such a table can be generated by running the model on a combination of possible threshold values.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Confidence</p></th>
<th class="head"><p>NMS</p></th>
<th class="head"><p>IOU</p></th>
<th class="head"><p>Precision</p></th>
<th class="head"><p>Recall</p></th>
<th class="head"><p>F1 Score</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0.3</p></td>
<td><p>0.1</p></td>
<td><p>0.5</p></td>
<td><p>0.697</p></td>
<td><p>0.752</p></td>
<td><p>0.724</p></td>
</tr>
<tr class="row-odd"><td><p>0.5</p></td>
<td><p>0.1</p></td>
<td><p>0.5</p></td>
<td><p>0.750</p></td>
<td><p>0.732</p></td>
<td><p>0.741</p></td>
</tr>
<tr class="row-even"><td><p>0.7</p></td>
<td><p>0.1</p></td>
<td><p>0.5</p></td>
<td><p>0.811</p></td>
<td><p>0.697</p></td>
<td><p>0.750</p></td>
</tr>
<tr class="row-odd"><td><p>0.3</p></td>
<td><p>0.4</p></td>
<td><p>0.5</p></td>
<td><p>0.640</p></td>
<td><p>0.789</p></td>
<td><p>0.707</p></td>
</tr>
<tr class="row-even"><td><p>0.5</p></td>
<td><p>0.4</p></td>
<td><p>0.5</p></td>
<td><p>0.718</p></td>
<td><p>0.759</p></td>
<td><p>0.738</p></td>
</tr>
<tr class="row-odd"><td><p>0.7</p></td>
<td><p>0.4</p></td>
<td><p>0.5</p></td>
<td><p>0.794</p></td>
<td><p>0.717</p></td>
<td><p>0.754</p></td>
</tr>
<tr class="row-even"><td><p>0.3</p></td>
<td><p>0.7</p></td>
<td><p>0.5</p></td>
<td><p>0.579</p></td>
<td><p>0.800</p></td>
<td><p>0.672</p></td>
</tr>
<tr class="row-odd"><td><p>0.5</p></td>
<td><p>0.7</p></td>
<td><p>0.5</p></td>
<td><p>0.682</p></td>
<td><p>0.768</p></td>
<td><p>0.722</p></td>
</tr>
<tr class="row-even"><td><p>0.7</p></td>
<td><p>0.7</p></td>
<td><p>0.5</p></td>
<td><p>0.774</p></td>
<td><p>0.723</p></td>
<td><p>0.747</p></td>
</tr>
</tbody>
</table>
<p>It is clear here that Confidence and NMS threshold can appear to be at odds with each other. As Confidence Threshold is increases, the Precision increases, but Recall is lower. Conversely, a higher NMS threshold gives better recall.</p>
</section>
<section id="prioritising-precision-or-recall">
<h2>Prioritising Precision or Recall<a class="headerlink" href="#prioritising-precision-or-recall" title="Permalink to this headline">#</a></h2>
<p>As stated above, the AI Engineer has to continually engage with the product owner in determining which to prioritise. Obviously, they can also rely on F1-Score to harmonise the two. However, do keep in mind the following:</p>
<ol class="simple">
<li><p>Choose Precision if quality is the the priority of the model. That is, it needs to identify objects and their classes.</p></li>
<li><p>Choose Recall if quantity is the priority of the model. That is, it needs to identify many more objects without caring too much about whether the class was correctly identified.</p></li>
</ol>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">#</a></h2>
<p>This article addresses the conventional metrics for object detection and instance segmentation in the context of pushing a product. Beyond simply calculating these metrics, the AI Engineer would do well look out for granular details when evaluating the metrics in order to give a more accurate picture of model performance.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./book/6-modelling"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="classification-metrics-guidelines.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">How do I select classification metrics?</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="ner-metrics.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">What are some metrics for Named Entity Recognition?</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By AI Singapore<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>